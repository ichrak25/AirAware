/* ============================================
   Leaflet Map Fixes for AirAware
   Add this to your index.css or import separately
   ============================================ */

/* Import Leaflet CSS if not already imported in index.html */
@import 'leaflet/dist/leaflet.css';

/* Custom marker pulse animation */
@keyframes marker-pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 0.6;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.3;
    }
}

/* Reset default Leaflet marker styles for custom markers */
.custom-aqi-marker {
    background: transparent !important;
    border: none !important;
}

.custom-mini-marker {
    background: transparent !important;
    border: none !important;
}

/* Ensure marker content is visible */
.leaflet-marker-icon {
    background: transparent !important;
    border: none !important;
}

/* Fix z-index for marker hover */
.leaflet-marker-icon:hover {
    z-index: 1000 !important;
}

/* Leaflet container styling */
.leaflet-container {
    font-family: inherit;
    border-radius: 1rem;
}

/* Popup styling */
.leaflet-popup-content-wrapper {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(12px);
    border-radius: 0.75rem;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    border: none;
    padding: 0;
}

.leaflet-popup-content {
    margin: 0;
    padding: 0;
    color: #1e293b;
}

.leaflet-popup-tip-container {
    margin-top: -1px;
}

.leaflet-popup-tip {
    background: rgba(255, 255, 255, 0.95);
    box-shadow: none;
}

/* Close button styling */
.leaflet-popup-close-button {
    color: #64748b !important;
    font-size: 20px !important;
    padding: 8px 8px 0 0 !important;
    width: 24px !important;
    height: 24px !important;
}

.leaflet-popup-close-button:hover {
    color: #0f172a !important;
}

/* Dark mode support */
.dark .leaflet-popup-content-wrapper {
    background: rgba(30, 41, 59, 0.95);
}

.dark .leaflet-popup-content {
    color: #f1f5f9;
}

.dark .leaflet-popup-tip {
    background: rgba(30, 41, 59, 0.95);
}

.dark .leaflet-popup-close-button {
    color: #94a3b8 !important;
}

.dark .leaflet-popup-close-button:hover {
    color: #f1f5f9 !important;
}

/* Control styling */
.leaflet-control-zoom {
    border: none !important;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1) !important;
}

.leaflet-control-zoom a {
    background: white !important;
    color: #475569 !important;
    border: none !important;
    width: 32px !important;
    height: 32px !important;
    line-height: 32px !important;
    font-size: 16px !important;
}

.leaflet-control-zoom a:hover {
    background: #f1f5f9 !important;
    color: #0f172a !important;
}

.leaflet-control-zoom-in {
    border-radius: 8px 8px 0 0 !important;
}

.leaflet-control-zoom-out {
    border-radius: 0 0 8px 8px !important;
}

.dark .leaflet-control-zoom a {
    background: #1e293b !important;
    color: #94a3b8 !important;
}

.dark .leaflet-control-zoom a:hover {
    background: #334155 !important;
    color: #f1f5f9 !important;
}

/* Attribution styling */
.leaflet-control-attribution {
    background: rgba(255, 255, 255, 0.7) !important;
    backdrop-filter: blur(4px);
    border-radius: 4px;
    padding: 2px 6px !important;
    font-size: 10px;
}

.dark .leaflet-control-attribution {
    background: rgba(30, 41, 59, 0.7) !important;
    color: #94a3b8;
}

.dark .leaflet-control-attribution a {
    color: #38bdf8;
}

/* Tile loading fade-in */
.leaflet-tile {
    transition: opacity 0.2s ease-in-out;
}

/* Fix for tile gaps */
.leaflet-tile-container {
    will-change: transform;
}